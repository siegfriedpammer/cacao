STACK FRAME FORMAT
=====================
Author: Edwin Steiner


Overview
--------

For the sake of efficiency CACAO uses its own stack frame layout that does
not comply with the usual frame layout on the native ABI. This document
tries to collect the stack frame layouts used on the various architectures.


i386 stack frames
-----------------

,--memory address rising
|
|   >>>> sp in method (after initial sub) <<<<
|         v
|   u4[]  v  arguments for calling methods              \__ rd->memuse slots
V   u4[]  v  local variable slots allocated on stack    /
|
|   u4[1..2] synchronized object / saved return value       (only for synched methods)
|
|   u8[]  ^  callee-saved float registers
V   u4[]  ^  callee-saved integer registers
|         ^
|   >>>> sp on method entry <<<<
|
|   u4       return address
V   u4[]     arguments on stack
|
|
|
|
V

